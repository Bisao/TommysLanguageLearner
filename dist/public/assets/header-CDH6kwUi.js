var Ce=t=>{throw TypeError(t)};var re=(t,e,s)=>e.has(t)||Ce("Cannot "+s);var i=(t,e,s)=>(re(t,e,"read from private field"),s?s.call(t):e.get(t)),N=(t,e,s)=>e.has(t)?Ce("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),b=(t,e,s,r)=>(re(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s),k=(t,e,s)=>(re(t,e,"access private method"),s);import{S as tt,s as Ne,t as P,v as ie,w as se,x as st,y as ne,z as we,A as at,B as rt,C as it,D as Re,E as Qe,r as l,l as De,c as F,d as nt,j as a,P as ye,p as ot,n as oe,a as be,F as lt,X as Se,u as ct,k as dt,m as ht}from"./index-CgSx9xry.js";import{s as ut,n as Ee,M as mt,a as _e,P as ft,b as pt,L as xt,B as D,m as L,u as gt,t as yt}from"./Tommy logo-DiWLNgrB.js";import{C as Ae,a as Me}from"./card-unpa1ra1.js";var E,p,J,R,_,q,O,T,Y,X,W,U,$,z,K,g,G,le,ce,de,he,ue,me,fe,Ue,Fe,bt=(Fe=class extends tt{constructor(e,s){super();N(this,g);N(this,E);N(this,p);N(this,J);N(this,R);N(this,_);N(this,q);N(this,O);N(this,T);N(this,Y);N(this,X);N(this,W);N(this,U);N(this,$);N(this,z);N(this,K,new Set);this.options=s,b(this,E,e),b(this,T,null),b(this,O,Ne()),this.options.experimental_prefetchInRender||i(this,O).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(s)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(i(this,p).addObserver(this),Le(i(this,p),this.options)?k(this,g,G).call(this):this.updateResult(),k(this,g,he).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pe(i(this,p),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pe(i(this,p),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,k(this,g,ue).call(this),k(this,g,me).call(this),i(this,p).removeObserver(this)}setOptions(e,s){const r=this.options,d=i(this,p);if(this.options=i(this,E).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof P(this.options.enabled,i(this,p))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");k(this,g,fe).call(this),i(this,p).setOptions(this.options),r._defaulted&&!ie(this.options,r)&&i(this,E).getQueryCache().notify({type:"observerOptionsUpdated",query:i(this,p),observer:this});const n=this.hasListeners();n&&Ie(i(this,p),d,this.options,r)&&k(this,g,G).call(this),this.updateResult(s),n&&(i(this,p)!==d||P(this.options.enabled,i(this,p))!==P(r.enabled,i(this,p))||se(this.options.staleTime,i(this,p))!==se(r.staleTime,i(this,p)))&&k(this,g,le).call(this);const c=k(this,g,ce).call(this);n&&(i(this,p)!==d||P(this.options.enabled,i(this,p))!==P(r.enabled,i(this,p))||c!==i(this,z))&&k(this,g,de).call(this,c)}getOptimisticResult(e){const s=i(this,E).getQueryCache().build(i(this,E),e),r=this.createResult(s,e);return kt(this,r)&&(b(this,R,r),b(this,q,this.options),b(this,_,i(this,p).state)),r}getCurrentResult(){return i(this,R)}trackResult(e,s){const r={};return Object.keys(e).forEach(d=>{Object.defineProperty(r,d,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(d),s==null||s(d),e[d])})}),r}trackProp(e){i(this,K).add(e)}getCurrentQuery(){return i(this,p)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=i(this,E).defaultQueryOptions(e),r=i(this,E).getQueryCache().build(i(this,E),s);return r.fetch().then(()=>this.createResult(r,s))}fetch(e){return k(this,g,G).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),i(this,R)))}createResult(e,s){var je;const r=i(this,p),d=this.options,n=i(this,R),c=i(this,_),h=i(this,q),o=e!==r?e.state:i(this,J),{state:x}=e;let u={...x},C=!1,f;if(s._optimisticResults){const w=this.hasListeners(),B=!w&&Le(e,s),V=w&&Ie(e,r,s,d);(B||V)&&(u={...u,...it(x.data,e.options)}),s._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:v,status:A}=u;if(s.select&&u.data!==void 0)if(n&&u.data===(c==null?void 0:c.data)&&s.select===i(this,Y))f=i(this,X);else try{b(this,Y,s.select),f=s.select(u.data),f=Re(n==null?void 0:n.data,f,s),b(this,X,f),b(this,T,null)}catch(w){b(this,T,w)}else f=u.data;if(s.placeholderData!==void 0&&f===void 0&&A==="pending"){let w;if(n!=null&&n.isPlaceholderData&&s.placeholderData===(h==null?void 0:h.placeholderData))w=n.data;else if(w=typeof s.placeholderData=="function"?s.placeholderData((je=i(this,W))==null?void 0:je.state.data,i(this,W)):s.placeholderData,s.select&&w!==void 0)try{w=s.select(w),b(this,T,null)}catch(B){b(this,T,B)}w!==void 0&&(A="success",f=Re(n==null?void 0:n.data,w,s),C=!0)}i(this,T)&&(y=i(this,T),f=i(this,X),v=Date.now(),A="error");const Q=u.fetchStatus==="fetching",S=A==="pending",j=A==="error",I=S&&Q,H=f!==void 0,M={status:A,fetchStatus:u.fetchStatus,isPending:S,isSuccess:A==="success",isError:j,isInitialLoading:I,isLoading:I,data:f,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:v,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>o.dataUpdateCount||u.errorUpdateCount>o.errorUpdateCount,isFetching:Q,isRefetching:Q&&!S,isLoadingError:j&&!H,isPaused:u.fetchStatus==="paused",isPlaceholderData:C,isRefetchError:j&&H,isStale:ve(e,s),refetch:this.refetch,promise:i(this,O)};if(this.options.experimental_prefetchInRender){const w=ee=>{M.status==="error"?ee.reject(M.error):M.data!==void 0&&ee.resolve(M.data)},B=()=>{const ee=b(this,O,M.promise=Ne());w(ee)},V=i(this,O);switch(V.status){case"pending":e.queryHash===r.queryHash&&w(V);break;case"fulfilled":(M.status==="error"||M.data!==V.value)&&B();break;case"rejected":(M.status!=="error"||M.error!==V.reason)&&B();break}}return M}updateResult(e){const s=i(this,R),r=this.createResult(i(this,p),this.options);if(b(this,_,i(this,p).state),b(this,q,this.options),i(this,_).data!==void 0&&b(this,W,i(this,p)),ie(r,s))return;b(this,R,r);const d={},n=()=>{if(!s)return!0;const{notifyOnChangeProps:c}=this.options,h=typeof c=="function"?c():c;if(h==="all"||!h&&!i(this,K).size)return!0;const m=new Set(h??i(this,K));return this.options.throwOnError&&m.add("error"),Object.keys(i(this,R)).some(o=>{const x=o;return i(this,R)[x]!==s[x]&&m.has(x)})};(e==null?void 0:e.listeners)!==!1&&n()&&(d.listeners=!0),k(this,g,Ue).call(this,{...d,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&k(this,g,he).call(this)}},E=new WeakMap,p=new WeakMap,J=new WeakMap,R=new WeakMap,_=new WeakMap,q=new WeakMap,O=new WeakMap,T=new WeakMap,Y=new WeakMap,X=new WeakMap,W=new WeakMap,U=new WeakMap,$=new WeakMap,z=new WeakMap,K=new WeakMap,g=new WeakSet,G=function(e){k(this,g,fe).call(this);let s=i(this,p).fetch(this.options,e);return e!=null&&e.throwOnError||(s=s.catch(st)),s},le=function(){k(this,g,ue).call(this);const e=se(this.options.staleTime,i(this,p));if(ne||i(this,R).isStale||!we(e))return;const r=at(i(this,R).dataUpdatedAt,e)+1;b(this,U,setTimeout(()=>{i(this,R).isStale||this.updateResult()},r))},ce=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(i(this,p)):this.options.refetchInterval)??!1},de=function(e){k(this,g,me).call(this),b(this,z,e),!(ne||P(this.options.enabled,i(this,p))===!1||!we(i(this,z))||i(this,z)===0)&&b(this,$,setInterval(()=>{(this.options.refetchIntervalInBackground||rt.isFocused())&&k(this,g,G).call(this)},i(this,z)))},he=function(){k(this,g,le).call(this),k(this,g,de).call(this,k(this,g,ce).call(this))},ue=function(){i(this,U)&&(clearTimeout(i(this,U)),b(this,U,void 0))},me=function(){i(this,$)&&(clearInterval(i(this,$)),b(this,$,void 0))},fe=function(){const e=i(this,E).getQueryCache().build(i(this,E),this.options);if(e===i(this,p))return;const s=i(this,p);b(this,p,e),b(this,J,e.state),this.hasListeners()&&(s==null||s.removeObserver(this),e.addObserver(this))},Ue=function(e){Qe.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(i(this,R))}),i(this,E).getQueryCache().notify({query:i(this,p),type:"observerResultsUpdated"})})},Fe);function vt(t,e){return P(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Le(t,e){return vt(t,e)||t.state.data!==void 0&&pe(t,e,e.refetchOnMount)}function pe(t,e,s){if(P(e.enabled,t)!==!1){const r=typeof s=="function"?s(t):s;return r==="always"||r!==!1&&ve(t,e)}return!1}function Ie(t,e,s,r){return(t!==e||P(r.enabled,t)===!1)&&(!s.suspense||t.state.status!=="error")&&ve(t,s)}function ve(t,e){return P(e.enabled,t)!==!1&&t.isStaleByTime(se(e.staleTime,t))}function kt(t,e){return!ie(t.getCurrentResult(),e)}var $e=l.createContext(!1),jt=()=>l.useContext($e);$e.Provider;function Ct(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Nt=l.createContext(Ct()),wt=()=>l.useContext(Nt),Rt=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},St=t=>{l.useEffect(()=>{t.clearReset()},[t])},Et=({result:t,errorResetBoundary:e,throwOnError:s,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ut(s,[t.error,r]),At=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Mt=(t,e)=>t.isLoading&&t.isFetching&&!e,Lt=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Te=(t,e,s)=>e.fetchOptimistic(t).catch(()=>{s.clearReset()});function It(t,e,s){var x,u,C,f,y;const r=De(),d=jt(),n=wt(),c=r.defaultQueryOptions(t);(u=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||u.call(x,c),c._optimisticResults=d?"isRestoring":"optimistic",At(c),Rt(c,n),St(n);const h=!r.getQueryCache().get(c.queryHash),[m]=l.useState(()=>new e(r,c)),o=m.getOptimisticResult(c);if(l.useSyncExternalStore(l.useCallback(v=>{const A=d?Ee:m.subscribe(Qe.batchCalls(v));return m.updateResult(),A},[m,d]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),l.useEffect(()=>{m.setOptions(c,{listeners:!1})},[c,m]),Lt(c,o))throw Te(c,m,n);if(Et({result:o,errorResetBoundary:n,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw o.error;if((f=(C=r.getDefaultOptions().queries)==null?void 0:C._experimental_afterQuery)==null||f.call(C,c,o),c.experimental_prefetchInRender&&!ne&&Mt(o,d)){const v=h?Te(c,m,n):(y=r.getQueryCache().get(c.queryHash))==null?void 0:y.promise;v==null||v.catch(Ee).finally(()=>{m.updateResult()})}return c.notifyOnChangeProps?o:m.trackResult(o)}function ts(t,e){return It(t,bt)}/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=F("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=F("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=F("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=F("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);var ke="Avatar",[Ft,ss]=nt(ke),[Qt,Be]=Ft(ke),Ve=l.forwardRef((t,e)=>{const{__scopeAvatar:s,...r}=t,[d,n]=l.useState("idle");return a.jsx(Qt,{scope:s,imageLoadingStatus:d,onImageLoadingStatusChange:n,children:a.jsx(ye.span,{...r,ref:e})})});Ve.displayName=ke;var qe="AvatarImage",Xe=l.forwardRef((t,e)=>{const{__scopeAvatar:s,src:r,onLoadingStatusChange:d=()=>{},...n}=t,c=Be(qe,s),h=Dt(r,n),m=ot(o=>{d(o),c.onImageLoadingStatusChange(o)});return oe(()=>{h!=="idle"&&m(h)},[h,m]),h==="loaded"?a.jsx(ye.img,{...n,ref:e,src:r}):null});Xe.displayName=qe;var We="AvatarFallback",Ke=l.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:r,...d}=t,n=Be(We,s),[c,h]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(m)}},[r]),c&&n.imageLoadingStatus!=="loaded"?a.jsx(ye.span,{...d,ref:e}):null});Ke.displayName=We;function Pe(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Dt(t,{referrerPolicy:e,crossOrigin:s}){const r=Ut(),d=l.useRef(null),n=r?(d.current||(d.current=new window.Image),d.current):null,[c,h]=l.useState(()=>Pe(n,t));return oe(()=>{h(Pe(n,t))},[n,t]),oe(()=>{const m=u=>()=>{h(u)};if(!n)return;const o=m("loaded"),x=m("error");return n.addEventListener("load",o),n.addEventListener("error",x),e&&(n.referrerPolicy=e),typeof s=="string"&&(n.crossOrigin=s),()=>{n.removeEventListener("load",o),n.removeEventListener("error",x)}},[n,s,e]),c}function _t(){return()=>{}}function Ut(){return l.useSyncExternalStore(_t,()=>!0,()=>!1)}var Ge=Ve,Ze=Xe,Je=Ke;const Ye=l.forwardRef(({className:t,...e},s)=>a.jsx(Ge,{ref:s,className:be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Ye.displayName=Ge.displayName;const $t=l.forwardRef(({className:t,...e},s)=>a.jsx(Ze,{ref:s,className:be("aspect-square h-full w-full",t),...e}));$t.displayName=Ze.displayName;const et=l.forwardRef(({className:t,...e},s)=>a.jsx(Je,{ref:s,className:be("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));et.displayName=Je.displayName;class Ht extends l.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Bt({children:t,isPresent:e}){const s=l.useId(),r=l.useRef(null),d=l.useRef({width:0,height:0,top:0,left:0}),{nonce:n}=l.useContext(mt);return l.useInsertionEffect(()=>{const{width:c,height:h,top:m,left:o}=d.current;if(e||!r.current||!c||!h)return;r.current.dataset.motionPopId=s;const x=document.createElement("style");return n&&(x.nonce=n),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            top: ${m}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(x)}},[e]),a.jsx(Ht,{isPresent:e,childRef:r,sizeRef:d,children:l.cloneElement(t,{ref:r})})}const Vt=({children:t,initial:e,isPresent:s,onExitComplete:r,custom:d,presenceAffectsLayout:n,mode:c})=>{const h=_e(qt),m=l.useId(),o=l.useCallback(u=>{h.set(u,!0);for(const C of h.values())if(!C)return;r&&r()},[h,r]),x=l.useMemo(()=>({id:m,initial:e,isPresent:s,custom:d,onExitComplete:o,register:u=>(h.set(u,!1),()=>h.delete(u))}),n?[Math.random(),o]:[s,o]);return l.useMemo(()=>{h.forEach((u,C)=>h.set(C,!1))},[s]),l.useEffect(()=>{!s&&!h.size&&r&&r()},[s]),c==="popLayout"&&(t=a.jsx(Bt,{isPresent:s,children:t})),a.jsx(ft.Provider,{value:x,children:t})};function qt(){return new Map}const te=t=>t.key||"";function Oe(t){const e=[];return l.Children.forEach(t,s=>{l.isValidElement(s)&&e.push(s)}),e}const Xt=({children:t,exitBeforeEnter:e,custom:s,initial:r=!0,onExitComplete:d,presenceAffectsLayout:n=!0,mode:c="sync"})=>{const h=l.useMemo(()=>Oe(t),[t]),m=h.map(te),o=l.useRef(!0),x=l.useRef(h),u=_e(()=>new Map),[C,f]=l.useState(h),[y,v]=l.useState(h);pt(()=>{o.current=!1,x.current=h;for(let S=0;S<y.length;S++){const j=te(y[S]);m.includes(j)?u.delete(j):u.get(j)!==!0&&u.set(j,!1)}},[y,m.length,m.join("-")]);const A=[];if(h!==C){let S=[...h];for(let j=0;j<y.length;j++){const I=y[j],H=te(I);m.includes(H)||(S.splice(j,0,I),A.push(I))}c==="wait"&&A.length&&(S=A),v(Oe(S)),f(h);return}const{forceRender:Q}=l.useContext(xt);return a.jsx(a.Fragment,{children:y.map(S=>{const j=te(S),I=h===y||m.includes(j),H=()=>{if(u.has(j))u.set(j,!0);else return;let ae=!0;u.forEach(M=>{M||(ae=!1)}),ae&&(Q==null||Q(),v(x.current),d&&d())};return a.jsx(Vt,{isPresent:I,initial:!o.current||r?void 0:!1,custom:I?void 0:s,presenceAffectsLayout:n,mode:c,onExitComplete:I?void 0:H,children:S},j)})})};function ze(){const{theme:t,setTheme:e}=lt();return a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>e(t==="light"?"dark":"light"),className:"h-9 w-9 px-0",children:[a.jsx(zt,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),a.jsx(Ot,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}const Wt={trophy:Z,star:ge,flame:xe,target:He,book:Pt,award:Tt};function Kt({notifications:t,onMarkRead:e,onDismiss:s,onClearAll:r}){const[d,n]=l.useState(!1),c=t.filter(o=>!o.read).length,h=o=>{switch(o){case"achievement":return"from-yellow-500 to-orange-500";case"xp":return"from-blue-500 to-purple-500";case"streak":return"from-orange-500 to-red-500";case"level":return"from-green-500 to-teal-500";case"lesson":return"from-indigo-500 to-blue-500";default:return"from-gray-500 to-gray-600"}},m=o=>{o.read||e(o.id),o.actionCallback&&o.actionCallback()};return a.jsxs("div",{className:"relative",children:[a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n(!d),className:"relative h-9 w-9 px-0",children:a.jsxs("div",{className:"relative",children:[a.jsx(Z,{size:20}),c>0&&a.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-xs text-white font-bold",children:c>9?"9+":c})})]})}),a.jsx(Xt,{children:d&&a.jsx(L.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute right-0 top-12 w-80 z-50",children:a.jsx(Ae,{className:"cartoon-card border-2 shadow-2xl",children:a.jsxs(Me,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsx("h3",{className:"font-semibold text-foreground",children:"Notificações"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t.length>0&&a.jsx(D,{variant:"ghost",size:"sm",onClick:r,className:"text-xs",children:"Limpar tudo"}),a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"h-6 w-6 p-0",children:a.jsx(Se,{size:14})})]})]}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.length===0?a.jsxs("div",{className:"p-6 text-center",children:[a.jsx(Z,{className:"w-12 h-12 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Nenhuma notificação no momento"})]}):a.jsx("div",{className:"space-y-1 p-2",children:t.map(o=>{const x=Wt[o.icon]||Z;return a.jsx(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},layout:!0,children:a.jsx(Ae,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${o.read?"bg-background":"bg-primary/5 border-primary/20"}`,onClick:()=>m(o),children:a.jsx(Me,{className:"p-3",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-r ${h(o.type)} flex items-center justify-center flex-shrink-0`,children:a.jsx(x,{className:"text-white",size:16})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"text-sm font-medium text-foreground truncate",children:o.title}),!o.read&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full flex-shrink-0 ml-2"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:o.message}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:o.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),o.actionLabel&&a.jsx(D,{variant:"ghost",size:"sm",className:"text-xs h-6 px-2",onClick:u=>{u.stopPropagation(),o.actionCallback&&o.actionCallback()},children:o.actionLabel})]})]}),a.jsx(D,{variant:"ghost",size:"sm",onClick:u=>{u.stopPropagation(),s(o.id)},className:"h-6 w-6 p-0 flex-shrink-0",children:a.jsx(Se,{size:12})})]})})})},o.id)})})})]})})})}),d&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})}function Gt(){const[t,e]=l.useState([]),s=l.useCallback(f=>{const y={...f,id:Math.random().toString(36).substr(2,9),timestamp:new Date,read:!1};e(v=>[y,...v].slice(0,20))},[]),r=l.useCallback(f=>{e(y=>y.map(v=>v.id===f?{...v,read:!0}:v))},[]),d=l.useCallback(f=>{e(y=>y.filter(v=>v.id!==f))},[]),n=l.useCallback(()=>{e([])},[]),c=l.useCallback(()=>{e(f=>f.map(y=>({...y,read:!0})))},[]),h=l.useCallback((f,y,v)=>{s({type:"achievement",title:f,message:y,icon:"trophy",actionLabel:v?"Ver":void 0,actionCallback:v})},[s]),m=l.useCallback((f,y)=>{s({type:"xp",title:`+${f} XP!`,message:`Você ganhou ${f} XP por ${y}`,icon:"star"})},[s]),o=l.useCallback(f=>{s({type:"streak",title:`${f} dias seguidos!`,message:"Parabéns por manter sua sequência de estudos!",icon:"flame"})},[s]),x=l.useCallback(f=>{s({type:"level",title:`Nível ${f}!`,message:`Você subiu para o nível ${f}! Continue assim!`,icon:"award"})},[s]),u=l.useCallback((f,y)=>{s({type:"lesson",title:"Lição completa!",message:`Você completou "${f}" e ganhou ${y} XP`,icon:"book"})},[s]),C=l.useCallback(()=>{s({type:"reminder",title:"Hora de estudar!",message:"Que tal fazer uma lição hoje para manter sua sequência?",icon:"target"})},[s]);return{notifications:t,addNotification:s,markAsRead:r,dismissNotification:d,clearAllNotifications:n,markAllAsRead:c,notifyAchievement:h,notifyXPGain:m,notifyStreakMilestone:o,notifyLevelUp:x,notifyLessonComplete:u,notifyDailyReminder:C}}function as({user:t,audioControls:e,showAudioControls:s}){var f;const[r,d]=ct(),{toast:n}=dt(),c=De(),{notifications:h,markAsRead:m,dismissNotification:o,clearAllNotifications:x,notifyAchievement:u}=Gt(),C=r==="/home";return gt({mutationFn:async()=>(await ht("POST","/api/auth/logout",{})).json(),onSuccess:()=>{n({title:"Logout realizado com sucesso!",description:"Até logo!"}),c.setQueryData(["/api/user"],null),d("/login")},onError:()=>{c.setQueryData(["/api/user"],null),d("/login")}}),t?a.jsx("header",{className:"fixed top-0 left-0 right-0 z-[200] glass-card border-b border-border/50 backdrop-blur-md",children:a.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-2 sm:py-4",children:[a.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center space-x-2 sm:space-x-3 cursor-pointer",onClick:()=>d("/home"),children:[a.jsx("img",{src:yt,alt:"Tommy's Academy Logo",className:"w-8 h-8 sm:w-10 sm:h-10 lg:w-12 lg:h-12 object-contain"}),a.jsx("h1",{className:"text-lg sm:text-xl lg:text-2xl font-bold gradient-text hidden sm:block",children:"Tommy's Academy"}),a.jsx("h1",{className:"text-base font-bold gradient-text sm:hidden",children:"Tommy's"})]}),s&&e&&a.jsx(L.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"flex items-center",children:e}),a.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"flex items-center space-x-2 sm:space-x-4",children:[C&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden sm:flex items-center space-x-3",children:[a.jsxs(L.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center space-x-2 bg-teal-100 dark:bg-teal-900/30 px-3 py-2 rounded-full border border-teal-200 dark:border-teal-800",children:[a.jsx(He,{className:"w-4 h-4 text-teal-500 dark:text-teal-400"}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("span",{className:"text-xs text-teal-700 dark:text-teal-300 font-medium",children:"Meta Diária"}),a.jsx("span",{className:"text-xs text-teal-600 dark:text-teal-400",children:"0%"})]})]}),a.jsxs(L.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1},className:"flex items-center space-x-1 bg-orange-100 dark:bg-orange-900/30 px-2 py-1 rounded-full border border-orange-200 dark:border-orange-800",children:[a.jsx(xe,{className:"w-4 h-4 text-orange-500 dark:text-orange-400"}),a.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-bold text-sm",children:t.streak})]}),a.jsxs(L.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"flex items-center space-x-1 bg-blue-100 dark:bg-blue-900/30 px-2 py-1 rounded-full border border-blue-200 dark:border-blue-800",children:[a.jsx(ge,{className:"w-4 h-4 text-blue-500 dark:text-blue-400"}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-bold text-sm",children:t.totalXP})]}),a.jsxs(L.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3},className:"flex items-center space-x-1 bg-green-100 dark:bg-green-900/30 px-2 py-1 rounded-full border border-green-200 dark:border-green-800",children:[a.jsx(Z,{className:"w-4 h-4 text-green-500 dark:text-green-400"}),a.jsx("span",{className:"text-green-700 dark:text-green-300 font-bold text-sm",children:t.level})]}),a.jsx(ze,{})]}),a.jsxs("div",{className:"flex sm:hidden items-center space-x-2",children:[a.jsxs(L.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center space-x-2 bg-white/10 dark:bg-black/10 px-2 py-1 rounded-full border border-white/20 dark:border-gray-700/20 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(xe,{className:"w-3 h-3 text-orange-500"}),a.jsx("span",{className:"text-orange-700 dark:text-orange-300 font-bold text-xs",children:t.streak})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ge,{className:"w-3 h-3 text-blue-500"}),a.jsx("span",{className:"text-blue-700 dark:text-blue-300 font-bold text-xs",children:t.totalXP})]})]}),a.jsx(ze,{})]}),a.jsx(Kt,{notifications:h,onMarkRead:m,onDismiss:o,onClearAll:x})]}),a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>d("/profile"),className:"flex items-center space-x-1 sm:space-x-2 hover:bg-cartoon-teal/10",children:a.jsx(Ye,{className:"w-8 h-8 sm:w-9 sm:h-9 lg:w-10 lg:h-10 bg-cartoon-blue cursor-pointer transform hover:scale-110 transition-transform",children:a.jsx(et,{className:"bg-cartoon-blue text-white font-bold text-xs sm:text-sm",children:((f=t==null?void 0:t.username)==null?void 0:f.charAt(0).toUpperCase())||"U"})})})]})]})})}):null}export{Tt as A,Pt as B,xe as F,as as H,ge as S,He as T,Z as a,Ye as b,$t as c,et as d,Xt as e,ts as u};
